
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */
  
import{d as j,r as E,e as n,o as v,f as k,g as t,w as l,L as q,h as s,K as w,n as B,j as Q,v as x,i as a,O as I,E as z,_ as P,q as M,a as D,m as V,Q as L,p as R,k as T,x as N}from"./index-b8c7047d.js";const K={class:"upload-container"},A={key:1,class:"image"},F={class:"mask"},G={class:"actions"},H=["onClick"],J=["onClick"],W={key:0,class:"el-upload__tip"},X={style:{display:"inline-block"}},Y=j({name:"ImageUpload",__name:"index",props:{action:{},headers:{},data:{},name:{default:"file"},url:{default:""},size:{default:2},width:{default:150},height:{default:150},placeholder:{default:""},notip:{type:Boolean,default:!1},ext:{default:()=>["jpg","png","gif","bmp"]}},emits:["update:url","onSuccess"],setup(m,{emit:y}){const o=m,i=E({imageViewerVisible:!1,progress:{preview:"",percent:0}});function S(){i.value.imageViewerVisible=!0}function h(){i.value.imageViewerVisible=!1}function d(){y("update:url","")}const f=e=>{const _=e.name.split(".").at(-1)??"",r=o.ext.includes(_),p=e.size/1024/1024<o.size;return r||z.error(`上传图片只支持 ${o.ext.join(" / ")} 格式！`),p||z.error(`上传图片大小不能超过 ${o.size}MB！`),r&&p&&(i.value.progress.preview=URL.createObjectURL(e)),r&&p},u=e=>{i.value.progress.percent=~~e.percent},g=e=>{i.value.progress.preview="",i.value.progress.percent=0,y("onSuccess",e)};return(e,$)=>{const _=P,r=n("el-image"),p=n("el-progress"),C=n("el-upload"),U=n("el-alert"),c=n("el-image-viewer");return v(),k("div",K,[t(C,{"show-file-list":!1,headers:e.headers,action:e.action,data:e.data,name:e.name,"before-upload":f,"on-progress":u,"on-success":g,drag:"",class:"image-upload"},{default:l(()=>[e.url===""?(v(),q(r,{key:0,src:e.url===""?e.placeholder:e.url,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},{error:l(()=>[s("div",{class:"image-slot",style:w(`width:${e.width}px;height:${e.height}px;`)},[t(_,{name:"ep:plus"})],4)]),_:1},8,["src","style"])):(v(),k("div",A,[t(r,{src:e.url,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},null,8,["src","style"]),s("div",F,[s("div",G,[s("span",{title:"预览",onClick:B(S,["stop"])},[t(_,{name:"ep:zoom-in"})],8,H),s("span",{title:"移除",onClick:B(d,["stop"])},[t(_,{name:"ep:delete"})],8,J)])])])),Q(s("div",{class:"progress",style:w(`width:${e.width}px;height:${e.height}px;`)},[t(r,{src:a(i).progress.preview,style:w(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},null,8,["src","style"]),t(p,{type:"circle",width:Math.min(e.width,e.height)*.8,percentage:a(i).progress.percent},null,8,["width","percentage"])],4),[[x,e.url===""&&a(i).progress.percent]])]),_:1},8,["headers","action","data","name"]),e.notip?I("",!0):(v(),k("div",W,[s("div",X,[t(U,{title:`上传图片支持 ${e.ext.join(" / ")} 格式，且图片大小不超过 ${e.size}MB，建议图片尺寸为 ${e.width}*${e.height}`,type:"info","show-icon":"",closable:!1},null,8,["title"])])])),a(i).imageViewerVisible?(v(),q(c,{key:1,"url-list":[e.url],teleported:"",onClose:h},null,8,["url-list"])):I("",!0)])}}});const Z=M(Y,[["__scopeId","data-v-d027d60e"]]),b=m=>(R("data-v-cab7cb87"),m=m(),T(),m),ee=b(()=>s("h2",null,"基本设置",-1)),te=b(()=>s("h2",null,"安全设置",-1)),se={class:"setting-list"},le={class:"item"},oe=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 账户密码 "),s("div",{class:"desc"}," 当前密码强度：强 ")],-1)),ae={class:"action"},ne={class:"item"},ie=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 密保手机 "),s("div",{class:"desc"}," 已绑定手机：187****3441 ")],-1)),de={class:"action"},ce={class:"item"},re=b(()=>s("div",{class:"content"},[s("div",{class:"title"}," 备用邮箱 "),s("div",{class:"desc"}," 当前未绑定备用邮箱 ")],-1)),pe={class:"action"},O=j({name:"PersonalSetting",__name:"setting",setup(m){const y=D(),o=E({headimg:"",mobile:"",name:"",qq:"",wechat:""});function i(h){h.error===""?o.value.headimg=h.data.path:z.warning(h.error)}function S(){y.push({name:"personalEditPassword"})}return(h,d)=>{const f=n("el-input"),u=n("el-form-item"),g=n("el-button"),e=n("el-form"),$=n("el-col"),_=Z,r=n("el-row"),p=n("el-tab-pane"),C=n("el-tabs"),U=L;return v(),k("div",null,[t(U,null,{default:l(()=>[t(C,{"tab-position":"left",style:{height:"600px"}},{default:l(()=>[t(p,{label:"基本设置",class:"basic"},{default:l(()=>[ee,t(r,{gutter:20},{default:l(()=>[t($,{span:16},{default:l(()=>[t(e,{model:a(o),"label-width":"120px","label-suffix":"："},{default:l(()=>[t(u,{label:"名 称"},{default:l(()=>[t(f,{modelValue:a(o).name,"onUpdate:modelValue":d[0]||(d[0]=c=>a(o).name=c),placeholder:"请输入你的名称"},null,8,["modelValue"])]),_:1}),t(u,{label:"手机号"},{default:l(()=>[t(f,{modelValue:a(o).mobile,"onUpdate:modelValue":d[1]||(d[1]=c=>a(o).mobile=c),placeholder:"请输入你的手机号"},null,8,["modelValue"])]),_:1}),t(u,{label:"QQ 号"},{default:l(()=>[t(f,{modelValue:a(o).qq,"onUpdate:modelValue":d[2]||(d[2]=c=>a(o).qq=c),placeholder:"请输入你的 QQ 号"},null,8,["modelValue"])]),_:1}),t(u,{label:"微信号"},{default:l(()=>[t(f,{modelValue:a(o).wechat,"onUpdate:modelValue":d[3]||(d[3]=c=>a(o).wechat=c),placeholder:"请输入你的微信号"},null,8,["modelValue"])]),_:1}),t(u,null,{default:l(()=>[t(g,{type:"primary"},{default:l(()=>[V(" 保存 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t($,{span:8},{default:l(()=>[t(_,{url:a(o).headimg,"onUpdate:url":d[4]||(d[4]=c=>a(o).headimg=c),action:"http://scrm.1daas.com/api/upload/upload",name:"image",data:{token:"TKD628431923530324"},notip:"",class:"headimg-upload",onOnSuccess:i},null,8,["url"])]),_:1})]),_:1})]),_:1}),t(p,{label:"安全设置",class:"security"},{default:l(()=>[te,s("div",se,[s("div",le,[oe,s("div",ae,[t(g,{type:"primary",text:"",onClick:S},{default:l(()=>[V(" 修改 ")]),_:1})])]),s("div",ne,[ie,s("div",de,[t(g,{type:"primary",text:""},{default:l(()=>[V(" 修改 ")]),_:1})])]),s("div",ce,[re,s("div",pe,[t(g,{type:"primary",text:""},{default:l(()=>[V(" 绑定 ")]),_:1})])])])]),_:1})]),_:1})]),_:1})])}}});typeof N=="function"&&N(O);const _e=M(O,[["__scopeId","data-v-cab7cb87"]]);export{_e as default};
