
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */
  
import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-50c0136f.js";import{d as R,a as j,y as z,b as U,c as X,X as Y,Y as q,e as m,o as a,f as g,h as w,i as e,P as C,g as t,O as i,L as v,w as n,m as d,t as p,_ as D,q as H}from"./index-b8c7047d.js";import{a as L}from"./index-b7c18886.js";import O from"./index-b8c94418.js";import{u as W}from"./notification-2b564698.js";import{u as A}from"./useMainPage-8e2e343f.js";function G(y){function f(){if(!document.startViewTransition||window.matchMedia("(prefers-reduced-motion: reduce)").matches){y();return}return document.startViewTransition(async()=>{await Promise.resolve(y())})}return{startViewTransition:f}}const J={class:"tools"},K={class:"buttons"},Q={class:"item"},Z={class:"item"},ee={class:"user-wrapper"},te=R({name:"Tools",__name:"index",setup(y){const f=j(),o=z(),T=U(),h=W();h.init();const{t:k}=X(),P=Y(q,Function,!0),$=A(),{isFullscreen:N,toggle:V}=L();function B(u){var s;const{startViewTransition:r}=G(()=>{o.setColorScheme(o.settings.app.colorScheme==="dark"?"light":"dark")});(s=r())==null||s.ready.then(()=>{const l=u.clientX,c=u.clientY,x=Math.hypot(Math.max(l,innerWidth-l),Math.max(c,innerHeight-c)),b=[`circle(0px at ${l}px ${c}px)`,`circle(${x}px at ${l}px ${c}px)`];document.documentElement.animate({clipPath:o.settings.app.colorScheme!=="dark"?b:b.reverse()},{duration:300,easing:"ease-out",pseudoElement:o.settings.app.colorScheme!=="dark"?"::view-transition-new(root)":"::view-transition-old(root)"})})}function I(u){switch(u){case"home":f.push({name:"home"});break;case"setting":f.push({name:"personalSetting"});break;case"preferences":C.emit("global-preferences-toggle");break;case"hotkeys":C.emit("global-hotkeys-intro-toggle");break;case"logout":T.logout();break}}return(u,r)=>{const s=D,l=m("el-badge"),c=m("el-popover"),x=E,b=m("el-avatar"),_=m("el-dropdown-item"),M=m("el-dropdown-menu"),F=m("el-dropdown");return a(),g("div",J,[w("div",K,[e(o).settings.navSearch.enable?(a(),g("span",{key:0,class:"item",onClick:r[0]||(r[0]=S=>e(C).emit("global-search-toggle"))},[t(s,{name:"ri:search-line"})])):i("",!0),e(o).settings.toolbar.enableNotification?(a(),v(c,{key:1,trigger:"hover","show-after":200,placement:"bottom",width:350},{reference:n(()=>[w("span",Q,[t(l,{type:"primary",value:e(h).total,"is-dot":e(h).total>99,hidden:e(h).total===0},{default:n(()=>[t(s,{name:"ri:notification-3-line"})]),_:1},8,["value","is-dot","hidden"])])]),default:n(()=>[t(O)]),_:1})):i("",!0),t(x,null,{default:n(()=>[w("span",Z,[t(s,{name:"ri:translate"})])]),_:1}),e(o).mode==="pc"&&e(o).settings.toolbar.enableFullscreen?(a(),g("span",{key:2,class:"item",onClick:r[1]||(r[1]=(...S)=>e(V)&&e(V)(...S))},[t(s,{name:e(N)?"ri:fullscreen-exit-line":"ri:fullscreen-line"},null,8,["name"])])):i("",!0),e(o).settings.toolbar.enablePageReload?(a(),g("span",{key:3,class:"item",onClick:r[2]||(r[2]=S=>e($).reload())},[t(s,{name:"iconoir:refresh-double"})])):i("",!0),e(o).settings.toolbar.enableColorScheme?(a(),g("span",{key:4,class:"item",onClick:B},[t(s,{name:e(o).settings.app.colorScheme==="light"?"ri:sun-line":"ri:moon-line"},null,8,["name"])])):i("",!0)]),t(F,{class:"user-container",size:"default",onCommand:I},{dropdown:n(()=>[t(M,{class:"user-dropdown"},{default:n(()=>[e(o).settings.home.enable?(a(),v(_,{key:0,command:"home"},{default:n(()=>[d(p(e(P)("route.home",e(o).settings.home.title)),1)]),_:1})):i("",!0),t(_,{command:"setting"},{default:n(()=>[d(p(e(k)("app.profile")),1)]),_:1}),e(o).settings.app.enableUserPreferences?(a(),v(_,{key:1,command:"preferences"},{default:n(()=>[d(p(e(k)("app.preferences")),1)]),_:1})):i("",!0),e(o).mode==="pc"?(a(),v(_,{key:2,divided:"",command:"hotkeys"},{default:n(()=>[d(p(e(k)("app.hotkeys")),1)]),_:1})):i("",!0),t(_,{divided:"",command:"logout"},{default:n(()=>[d(p(e(k)("app.logout")),1)]),_:1})]),_:1})]),default:n(()=>[w("div",ee,[t(b,{size:"small"},{default:n(()=>[t(s,{name:"ep:user-filled"})]),_:1}),d(" "+p(e(T).account)+" ",1),t(s,{name:"ep:caret-bottom"})])]),_:1})])}}});const le=H(te,[["__scopeId","data-v-c8d096cd"]]);export{le as default};
