
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */
  
import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-50c0136f.js";import{d as Z,u as ee,a as oe,b as le,c as te,r as d,s as x,e as w,f as ae,g as e,w as l,h as s,i as o,j as F,v as S,p as se,k as ne,o as re,t as y,l as ie,m as r,n as $,_ as de,E as L,q as ue,x as E}from"./index-b8c7047d.js";import pe from"./index-2a776ca8.js";const h=k=>(se("data-v-79f6beec"),k=k(),ne(),k),ce=h(()=>s("div",{class:"bg-banner"},null,-1)),me={id:"login-box"},ge={class:"login-banner"},fe=h(()=>s("div",{class:"logo"},null,-1)),_e=["src"],ve={class:"title-container"},we={class:"title"},be={class:"flex-bar"},he={class:"sub-link"},xe=h(()=>s("span",{class:"text"},"还没有帐号?",-1)),ye={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},ke=h(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," 探索从这里开始! 🚀 ")],-1)),Ve={class:"sub-link"},Ce=h(()=>s("span",{class:"text"},"已经有帐号?",-1)),Re=h(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," 忘记密码了? 🔒 ")],-1)),Ue={class:"sub-link"},B=Z({name:"Login",__name:"login",setup(k){var I;const K=ee(),N=oe(),D=le(),{t:p}=te(),M=new URL(""+new URL("login-banner-a565fac8.png",import.meta.url).href,self.location).href,T="Fantastic-admin 专业版",g=d("login"),b=d(!1),j=d(((I=K.query.redirect)==null?void 0:I.toString())??"/"),C=d(),i=d({account:x.local.get("login_account")||"",password:"",remember:x.local.has("login_account")}),A=d({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function R(){C.value&&C.value.validate(_=>{_&&(b.value=!0,D.login(i.value).then(()=>{b.value=!1,i.value.remember?x.local.set("login_account",i.value.account):x.local.remove("login_account"),N.push(j.value)}).catch(()=>{b.value=!1}))})}const U=d(),u=d({account:"",captcha:"",password:"",checkPassword:""}),G=d({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkPassword:[{required:!0,trigger:"blur",message:"请再次输入密码"},{validator:(_,t,n)=>{t!==u.value.password?n(new Error("两次输入的密码不一致")):n()}}]});function H(){L({message:"注册模块仅提供界面演示，无实际功能，需开发者自行扩展",type:"warning"}),U.value&&U.value.validate(_=>{})}const q=d(),f=d({account:x.local.get("login_account"),captcha:"",newPassword:""}),J=d({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function O(){L({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),q.value&&q.value.validate(_=>{})}function z(_){i.value.account=_,i.value.password="123456",R()}return(_,t)=>{const n=de,Q=Y,c=w("el-input"),m=w("el-form-item"),W=w("el-checkbox"),V=w("el-link"),v=w("el-button"),X=w("el-divider"),P=w("el-form");return re(),ae("div",null,[ce,e(Q,{class:"i18n-selector"},{default:l(()=>[e(n,{name:"ri:translate"})]),_:1}),s("div",me,[s("div",ge,[fe,s("img",{src:o(M),class:"banner"},null,8,_e)]),F(e(P,{ref_key:"loginFormRef",ref:C,model:o(i),rules:o(A),class:"login-form",autocomplete:"on"},{default:l(()=>[s("div",ve,[s("h3",we," 欢迎来到 "+y(o(T))+" ! 👋🏻 ",1)]),s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(i).account,"onUpdate:modelValue":t[0]||(t[0]=a=>o(i).account=a),placeholder:o(p)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:l(()=>[e(n,{name:"ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"password"},{default:l(()=>[e(c,{modelValue:o(i).password,"onUpdate:modelValue":t[1]||(t[1]=a=>o(i).password=a),type:"password",placeholder:o(p)("app.password"),tabindex:"2",autocomplete:"on","show-password":"",onKeyup:ie(R,["enter"])},{prefix:l(()=>[e(n,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder","onKeyup"])]),_:1})]),s("div",be,[e(W,{modelValue:o(i).remember,"onUpdate:modelValue":t[2]||(t[2]=a=>o(i).remember=a)},{default:l(()=>[r(" 记住我 ")]),_:1},8,["modelValue"]),e(V,{type:"primary",underline:!1,onClick:t[3]||(t[3]=a=>g.value="reset")},{default:l(()=>[r(" 忘记密码了? ")]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%"},onClick:$(R,["prevent"])},{default:l(()=>[r(y(o(p)("app.login")),1)]),_:1},8,["loading","onClick"]),s("div",he,[xe,e(V,{type:"primary",underline:!1,onClick:t[4]||(t[4]=a=>g.value="register")},{default:l(()=>[r(" 创建新帐号 ")]),_:1})]),s("div",ye,[e(X,null,{default:l(()=>[r("演示账号一键登录")]),_:1}),e(v,{type:"primary",size:"small",plain:"",onClick:t[5]||(t[5]=a=>z("admin"))},{default:l(()=>[r(" admin ")]),_:1}),e(v,{size:"small",plain:"",onClick:t[6]||(t[6]=a=>z("test"))},{default:l(()=>[r(" test ")]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="login"]]),F(e(P,{ref_key:"registerFormRef",ref:U,model:o(u),rules:o(G),class:"login-form","auto-complete":"on"},{default:l(()=>[ke,s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(u).account,"onUpdate:modelValue":t[7]||(t[7]=a=>o(u).account=a),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:l(()=>[e(n,{name:"ri:user-3-fill"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"captcha"},{default:l(()=>[e(c,{modelValue:o(u).captcha,"onUpdate:modelValue":t[8]||(t[8]=a=>o(u).captcha=a),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:l(()=>[e(n,{name:"ic:baseline-verified-user"})]),append:l(()=>[e(v,null,{default:l(()=>[r("发送验证码")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:l(()=>[e(c,{modelValue:o(u).password,"onUpdate:modelValue":t[9]||(t[9]=a=>o(u).password=a),type:"password",placeholder:"密码",tabindex:"3",autocomplete:"on","show-password":""},{prefix:l(()=>[e(n,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"checkPassword"},{default:l(()=>[e(c,{modelValue:o(u).checkPassword,"onUpdate:modelValue":t[10]||(t[10]=a=>o(u).checkPassword=a),type:"password",placeholder:"确认密码",tabindex:"4",autocomplete:"on","show-password":""},{prefix:l(()=>[e(n,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue"])]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:$(H,["prevent"])},{default:l(()=>[r(" 注册 ")]),_:1},8,["loading","onClick"]),s("div",Ve,[Ce,e(V,{type:"primary",underline:!1,onClick:t[11]||(t[11]=a=>g.value="login")},{default:l(()=>[r(" 去登录 ")]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="register"]]),F(e(P,{ref_key:"resetFormRef",ref:q,model:o(f),rules:o(J),class:"login-form","auto-complete":"on"},{default:l(()=>[Re,s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(f).account,"onUpdate:modelValue":t[12]||(t[12]=a=>o(f).account=a),placeholder:o(p)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:l(()=>[e(n,{name:"ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"captcha"},{default:l(()=>[e(c,{modelValue:o(f).captcha,"onUpdate:modelValue":t[13]||(t[13]=a=>o(f).captcha=a),placeholder:o(p)("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:l(()=>[e(n,{name:"ic:baseline-verified-user"})]),append:l(()=>[e(v,null,{default:l(()=>[r(y(o(p)("app.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"newPassword"},{default:l(()=>[e(c,{modelValue:o(f).newPassword,"onUpdate:modelValue":t[14]||(t[14]=a=>o(f).newPassword=a),type:"password",placeholder:o(p)("app.newPassword"),tabindex:"3",autocomplete:"on","show-password":""},{prefix:l(()=>[e(n,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:$(O,["prevent"])},{default:l(()=>[r(y(o(p)("app.check")),1)]),_:1},8,["loading","onClick"]),s("div",Ue,[e(V,{type:"primary",underline:!1,onClick:t[15]||(t[15]=a=>g.value="login")},{default:l(()=>[r(y(o(p)("app.goLogin")),1)]),_:1})])]),_:1},8,["model","rules"]),[[S,o(g)==="reset"]])]),e(pe)])}}});typeof E=="function"&&E(B);const Se=ue(B,[["__scopeId","data-v-79f6beec"]]);export{Se as default};
