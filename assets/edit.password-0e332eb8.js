
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */
  
import{d as g,r as p,B as S,I as B,o as h,f as b,R as C,J as U,i as t,q,b as T,e as r,g as o,w as s,m as M,E as P,S as R,Q as $,x as f}from"./index-b8c7047d.js";const z=g({name:"FixedActionBar",__name:"index",setup(v){const a=p(!1);S(()=>{l(),window.addEventListener("scroll",l)}),B(()=>{window.removeEventListener("scroll",l)});function l(){const e=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.clientHeight||document.body.clientHeight,_=document.documentElement.scrollHeight||document.body.scrollHeight;a.value=Math.ceil(e+u)>=_}return(e,u)=>(h(),b("div",{class:U(["actionbar",{shadow:!t(a)}]),"data-fixed-calc-width":""},[C(e.$slots,"default",{},void 0,!0)],2))}});const I=q(z,[["__scopeId","data-v-e87338dd"]]),L=g({name:"PersonalEditPassword",__name:"edit.password",setup(v){const a=T(),l=p(),e=p({password:"",newpassword:"",checkpassword:""}),u=p({password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:(m,n,c)=>{n!==e.value.newpassword?c(new Error("请确认新密码")):c()}}]});function _(){l.value&&l.value.validate(m=>{m&&a.editPassword(e.value).then(()=>{P({type:"success",message:"模拟修改成功，请重新登录"}),a.logout()})})}return(m,n)=>{const c=R,i=r("el-input"),w=r("el-form-item"),x=r("el-form"),y=r("el-col"),V=r("el-row"),E=$,k=r("el-button"),H=I;return h(),b("div",null,[o(c,{title:"修改密码",content:"定期修改密码可以提高帐号安全性噢~"}),o(E,null,{default:s(()=>[o(V,null,{default:s(()=>[o(y,{md:24,lg:12},{default:s(()=>[o(x,{ref_key:"formRef",ref:l,model:t(e),rules:t(u),"label-width":"120px"},{default:s(()=>[o(w,{label:"原密码",prop:"password"},{default:s(()=>[o(i,{modelValue:t(e).password,"onUpdate:modelValue":n[0]||(n[0]=d=>t(e).password=d),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),o(w,{label:"新密码",prop:"newpassword"},{default:s(()=>[o(i,{modelValue:t(e).newpassword,"onUpdate:modelValue":n[1]||(n[1]=d=>t(e).newpassword=d),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),o(w,{label:"确认新密码",prop:"checkpassword"},{default:s(()=>[o(i,{modelValue:t(e).checkpassword,"onUpdate:modelValue":n[2]||(n[2]=d=>t(e).checkpassword=d),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),o(H,null,{default:s(()=>[o(k,{type:"primary",size:"large",onClick:_},{default:s(()=>[M(" 提交 ")]),_:1})]),_:1})])}}});typeof f=="function"&&f(L);export{L as default};
