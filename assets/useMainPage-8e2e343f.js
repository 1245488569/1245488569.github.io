
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */
  
import{u as x,a as g,y as m,z as v,E as I}from"./index-b8c7047d.js";function R(){const u=x(),l=g(),r=m(),e=v();function i(){return r.settings.tabbar.mergeTabsBy==="activeMenu"?u.meta.activeMenu??u.fullPath:u.fullPath}function f(t){const n=e.list.findIndex(s=>s.tabId===i());e.$patch({leaveIndex:n}),l.push(t)}function b(t){const n=i();l.go(t),e.remove(n)}function d(t){const n=i();l.push(t).then(()=>{e.remove(n)})}function h(t=i()){const n=i();if(e.list.some(s=>s.tabId===t))if(e.list.length>1)if(t===n){const s=e.list.findIndex(a=>a.tabId===t);s<e.list.length-1?d(e.list[s+1].fullPath):d(e.list[s-1].fullPath)}else e.remove(t);else I.error("当前只有一个标签页，已阻止关闭");else I.error("关闭的页面不存在")}function c(t=i()){const n=i();if(t!==n){const s=e.list.findIndex(a=>a.tabId===t);l.push(e.list[s].fullPath)}e.removeOtherSide(t)}function P(t=i()){const n=i();if(t!==n){const s=e.list.findIndex(o=>o.tabId===t);e.list.findIndex(o=>o.tabId===n)<s&&l.push(e.list[s].fullPath)}e.removeLeftSide(t)}function S(t=i()){const n=i();if(t!==n){const s=e.list.findIndex(o=>o.tabId===t);e.list.findIndex(o=>o.tabId===n)>s&&l.push(e.list[s].fullPath)}e.removeRightSide(t)}function T(t=i()){return e.list.some(n=>!n.isPermanent&&!n.isPin&&n.tabId!==t)}function p(t=i()){let n=!0;if(t===e.list[0].tabId)n=!1;else{const s=e.list.findIndex(a=>a.tabId===t);n=e.list.some((a,o)=>o<s&&!a.isPermanent&&!a.isPin&&a.tabId!==t)}return n}function C(t=i()){var s;let n=!0;if(t===((s=e.list.at(-1))==null?void 0:s.tabId))n=!1;else{const a=e.list.findIndex(o=>o.tabId===t);n=e.list.some((o,M)=>M>=a&&!o.isPermanent&&!o.isPin&&o.tabId!==t)}return n}return{getId:i,open:f,go:b,close:d,closeById:h,closeOtherSide:c,closeLeftSide:P,closeRightSide:S,checkCloseOtherSide:T,checkCloseLeftSide:p,checkCloseRightSide:C}}function y(){const u=x(),l=g(),r=m(),e=v(),i=R();function f(){l.push({name:"reload"})}function b(c){r.setCustomTitle(u.fullPath,c),r.settings.tabbar.enable&&e.setCustomTitle({tabId:i.getId(),title:c})}function d(){r.resetCustomTitle(u.fullPath),r.settings.tabbar.enable&&e.resetCustomTitle(i.getId())}function h(c){r.setMainPageMaximize(c)}return{reload:f,setCustomTitle:b,resetCustomTitle:d,maximize:h}}export{R as a,y as u};
